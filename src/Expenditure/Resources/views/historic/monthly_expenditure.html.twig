{% if monthlyExpenditure is defined %}
	{% set totalPrice = 0 %}
	{% set totalPaid = 0 %}
	<table class="table table-centered">
		<thead>
			<tr>
				<th>Title</th>
				<th>Paid</th>
				<th>Amount Paid</th>
				<th>&nbsp;</th>
				<th>&nbsp;</th>
			</tr>
		</thead>
		<tbody>
			{% for expenditure in monthlyExpenditure %}
			
				{% set totalPrice = totalPrice + expenditure.price %}
				{% set totalPaid = totalPaid + expenditure.__get('amount_paid') %}

				<tr data-id="{{ expenditure.id }}" class="{{ expenditure.price == expenditure.__get('amount_paid')? 'expenditure-paid':(expenditure.__get('amount_paid') > 0? 'expenditure-partial-paid':'') }}">

					<td width="35%">{{ expenditure.title }}</td>
					<td class="price">{{ CURRENCY ~ expenditure.price | number_format(2, '.', ',') }}</td>
					<td class="">{{ CURRENCY ~ expenditure.__get('amount_paid') | number_format(2, '.', ',') }}</td>
					<td width="20%">
						{% if expenditure.__get('amount_paid') < expenditure.price and showActions is defined and showActions %}
							<a href="{{ app.request.uri }}" onclick="return registerPaid({{ expenditure.__get('header_id') }}, {{ expenditure.id }})">Paid</a>
							&nbsp;|&nbsp;
							<a href="{{ app.request.uri }}" onclick="return registerPartPaid({{ expenditure.__get('header_id') }}, {{ expenditure.id }})">Partial Paid</a>
						{% endif %}
					</td>
					<td>
                        {% if showActions is defined and showActions %}
                            <a href="{{ app.request.uri }}" onclick="return deleteExpenditure({{ expenditure.__get('header_id') }}, {{ expenditure.id }})"><i class="icon-trash"></i> Delete</a>
                            &nbsp;&nbsp;
                            <a href="{{ app.request.uri }}#inputPrice" data-title="{{ expenditure.title }}" data-id="{{ expenditure.id }}" data-price="{{ expenditure.price }}" onclick="return editExpenditure(this) ">
                            <i class="icon-pencil"></i>Edit
                            </a>
                        {% endif %}
				    </td>
				</tr>
			{% endfor %}
		</tbody>
		<tfoot>
			<tr>
				<td><span class="pull-right"><strong>Total</strong></span></td>
				<td class="price">{{ CURRENCY ~ totalPrice | number_format(2, '.', ',') }}<span class="pull-right"><strong>Total</strong></span></td>
				<td class="">{{ CURRENCY ~ totalPaid | number_format(2, '.', ',') }}</td>
				<td></td>
				<td></td>
			</tr>
		</tfoot>
	</table>
{% endif %}
